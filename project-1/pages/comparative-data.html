<!DOCTYPE html>
<html>

<head>
    <title>D3 Project Starter Template</title>
    <meta charset="UTF-8">
    <link rel="icon" href="data:;base64,iVBORwOKGO=" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../style/main.css" />

</head>

<body>
    <!-- Add HTML content, SVG drawing area, ... -->
    <style>
        #country-filters {
            border: 1px solid #ccc;
            padding: 10px;
            width: 250px;
            max-height: 600px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        #country-filters input[type="text"] {
            width: 100%;
            margin-bottom: 10px;
            padding: 5px;
            box-sizing: border-box;
        }

        .checkbox-list label {
            display: block;
            margin: 2px 0;
            cursor: pointer;
        }

        .tooltip {
            position: absolute;
            pointer-events: none;
            background-color: rgba(0, 0, 0, 0.7);
            color: #fff;
            padding: 8px;
            border-radius: 4px;
            font-size: 12px;
            display: none;
        }

        #chart-container {
            max-width: 100%;
            /* fills horizontal space */
            height: 0%;
            /* or any relative height like viewport height */
            min-height: 600px;
            /* optional fallback */
            position: relative;
            /* helps with tooltips */
            margin-bottom: clamp(1rem, 5vw, 5rem);
        }

        
    </style>

    <header>
             <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <h2>My Portfolio</h2>
        <nav>
            <a href="../index.html">Home</a>
            <a href="../pages/single-data.html">Single Statistic Charts</a>
            <a href="../pages/comparative-data.html">Comparative Analysis Charts</a>
        </nav>
    </header>

    <h1>Data Comparative Analysis</h1>

    <!-- Country selector (search + checkboxes) -->
     <div id="compare-settings-anchor"></div>
    <div id="page-content">
        <div id="chart-container" style="display: flex; gap: 20px; width: 100%; overflow: auto;">
            <svg id="scatterplot" style="flex: 1; overflow: auto;"></svg>
            <div id="country-filters"></div>
        </div>

        <hr class="modern-divider" style=" border:noon; height: 3px; background: linear-gradient(to right, #cfe2f2, #0d306b, #cfe2f2); margin: 40px 0; opacity: 0.9;">

        <div id="chart-container"><svg id="barchart" ></svg></div>

        <div id="tooltip"
            style="position:absolute; display:none; background:#fff; border:1px solid #aaa; padding:10px; pointer-events:none;">
        </div>

        <svg id="chart"></svg>

        <div class="source">
            Source: Data from <a href="https://ourworldindata.org/">Our World in Data</a>
        </div>

        <!-- D3 bundle -->
        <script src="../js/d3.v6.min.js"></script>
        <script src="../js/extrabuttons.js"></script>
        <script src="../js/extrasettings.js"></script>
        <script src="../js/countryselect.js"></script>
        <script src="../js/countryIso.js"></script>
        <script src="../js/brushSelection.js"></script>
        <script src="../js/scatterplot.js"></script>
        <script src="../js/barchart.js"></script>
        <!-- Our JS code - INCLUDING the new files-->
     <script src ="../js/comparative-data-main.js"></script>

    </div>

        <script>
        function showPopup() {
            Swal.fire({
                title: 'Welcome!',
                text: 'This is a comparative analysis of global data. Explore the charts and use the filters to customize your view. Zoom in or refine your data set if its too cluttered. Enjoy exploring the trends and insights!',
                icon: 'info',
                confirmButtonText: 'Cool',
                customClass: {
                    popup: 'custom-popup',         // Apply your CSS to the popup container
                    title: 'custom-popup-title',   // Optional: style title
                    content: 'custom-popup-text',  // Optional: style text
                    confirmButton: 'custom-popup-button' // Style the button
                },
                buttonsStyling: false // Disable default SweetAlert2 button styles
            });
        }


        window.addEventListener('DOMContentLoaded', () => {
            showPopup();
        });
    </script>

</body>

</html>